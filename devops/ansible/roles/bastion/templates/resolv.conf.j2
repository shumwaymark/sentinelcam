# Generated by Ansible - SentinelCam Bastion DNS Configuration
# This file configures local DNS resolution to use dnsmasq

# Use local dnsmasq for DNS resolution
nameserver 127.0.0.1

# Fallback to upstream DNS servers if dnsmasq fails
{% for dns_server in bastion_dnsmasq.upstream_dns %}
nameserver {{ dns_server }}
{% endfor %}

# Search domain for short hostname resolution
{% if bastion_dnsmasq.domain is defined %}
search {{ bastion_dnsmasq.domain }}
{% endif %}

# DNS resolution options
options timeout:2
options attempts:3
